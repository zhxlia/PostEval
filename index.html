<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Model Insight ‚Äì Capability & Behavioral Analysis</title>
  <meta name="description" content="Automated capability and behavioral analysis of models with bilingual (EN/‰∏≠Êñá) UI and in-page Markdown rendering for examples." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
  <!-- highlight.js for code blocks inside rendered Markdown -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/styles/github.min.css">
  <style>
    :root{
      --bg: #0b1020;
      --bg2: #0f1430;
      --card: rgba(255,255,255,0.06);
      --border: rgba(255,255,255,0.12);
      --text: #e8ecf1;
      --muted: #c4cede;
      --accent: #7aa2ff;
      --accent2: #a07bff;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial; color:var(--text);
      background: radial-gradient(1200px 800px at 10% 10%, #1a2148 0%, transparent 60%),
                  radial-gradient(900px 600px at 90% 20%, #232a5a 0%, transparent 60%),
                  linear-gradient(180deg, var(--bg) 0%, var(--bg2) 100%);
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
    }
    .container{max-width:1100px;margin:0 auto;padding:24px}
    header{
      position:sticky;top:0;z-index:10;background:linear-gradient(180deg, rgba(11,16,32,.9), rgba(11,16,32,.6), transparent);
      backdrop-filter: blur(8px);
      border-bottom:1px solid var(--border);
    }
    .row{display:flex;align-items:center;justify-content:space-between;gap:16px}
    .brand{display:flex;align-items:center;gap:10px}
    .logo{width:36px;height:36px;border-radius:10px;background:linear-gradient(135deg,var(--accent),var(--accent2));box-shadow:0 6px 24px rgba(122,162,255,.4)}
    .title{font-weight:800;letter-spacing:.3px}
    .lang-toggle{display:flex;gap:6px;align-items:center;background:var(--card);border:1px solid var(--border);padding:6px;border-radius:999px}
    .lang-toggle button{border:0;background:transparent;color:var(--muted);padding:8px 12px;border-radius:999px;cursor:pointer;font-weight:600}
    .lang-toggle button.active{background:linear-gradient(135deg, rgba(122,162,255,.15), rgba(160,123,255,.15)); color:#fff}

    .hero{display:grid;grid-template-columns:1.1fr .9fr; gap:28px; margin-top:28px; align-items:center}
    .kicker{color:var(--accent);font-weight:700;letter-spacing:.2px}
    h1{font-size:clamp(28px,4.2vw,44px);margin:8px 0 10px;line-height:1.12}
    .sub{color:var(--muted)}
    .card{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:18px}
    .hero img{width:100%;border-radius:16px;border:1px solid var(--border);box-shadow:0 12px 36px rgba(0,0,0,.25)}

    .section{margin-top:40px}
    .section h2{font-size:clamp(22px,3vw,28px);margin:0 0 14px}
    .grid{display:grid;grid-template-columns:repeat(2,1fr); gap:16px}

    ul{margin:8px 0 0 18px}
    li{margin:8px 0}
    a{color:#c9d6ff; text-decoration:underline dotted; text-underline-offset:3px}
    a.button{display:inline-block;text-decoration:none;background:linear-gradient(135deg, rgba(122,162,255,.18), rgba(160,123,255,.18));border:1px solid var(--border);padding:10px 14px;border-radius:10px;color:#fff}

    /* Methodology cards */
    .cols{display:grid;grid-template-columns:repeat(2,1fr);gap:16px}
    .tag{font-size:12px;padding:4px 8px;border-radius:999px;border:1px solid var(--border);background:rgba(255,255,255,.03);color:var(--muted);display:inline-flex;gap:6px;align-items:center}

    /* Modal for Markdown */
    .modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(8,12,24,.7);backdrop-filter:blur(6px);z-index:50}
    .modal.open{display:flex}
    .modal-card{width:min(920px,92vw);max-height:84vh;overflow:auto;background:#0c1226;border:1px solid var(--border);border-radius:16px;box-shadow:0 18px 60px rgba(0,0,0,.4)}
    .modal-head{position:sticky;top:0;display:flex;align-items:center;justify-content:space-between;gap:10px;padding:14px 16px;border-bottom:1px solid var(--border);background:linear-gradient(180deg,#0c1226,#0c132a)}
    .modal-body{padding:18px}
    .close{background:transparent;border:1px solid var(--border);color:var(--muted);padding:6px 10px;border-radius:10px;cursor:pointer}
    .spinner{width:18px;height:18px;border:3px solid rgba(255,255,255,.18);border-top-color:#fff;border-radius:50%;animation:spin 1s linear infinite;display:inline-block}
    @keyframes spin{to{transform:rotate(360deg)}}

    footer{margin:48px 0 18px;color:var(--muted);display:flex;justify-content:space-between;gap:16px;flex-wrap:wrap}

    /* Responsive */
    @media (max-width:900px){.hero{grid-template-columns:1fr}.grid,.cols{grid-template-columns:1fr}}
  </style>
</head>
<body>
  <header>
    <div class="container row">
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <div class="title">Model Insight</div>
      </div>
      <div class="lang-toggle" role="group" aria-label="language toggle">
        <button id="btn-en" class="active" aria-pressed="true">EN</button>
        <button id="btn-zh" aria-pressed="false">‰∏≠Êñá</button>
      </div>
    </div>
  </header>

  <main class="container">
    <!-- HERO -->
    <section class="hero">
      <div>
        <div class="kicker" id="kicker">Automated model analytics</div>
        <h1 id="headline">Capability & Behavioral Analysis‚ÄîJust Type a Query</h1>
        <p class="sub" id="subhead">Get two natural-language reports from a single query: a capability analysis and a behavioral analysis‚Äîplus deep dives beyond raw performance.</p>
        <div class="card" id="intro"></div>
      </div>
      <div>
        <!-- Replace the PNG at assets/overview.png in your repo -->
        <img id="hero-img" src="assets/overview.png" alt="Project overview image" loading="lazy">
      </div>
    </section>

    <!-- HIGHLIGHTS -->
    <section class="section">
      <h2 id="highlights-title">Highlights</h2>
      <div class="card">
        <div id="highlights"></div>
      </div>
    </section>

    <!-- METHODOLOGY -->
    <section class="section">
      <h2 id="method-title">Methodology</h2>
      <div class="cols">
        <div class="card">
          <div class="tag">üîß <span id="cap-tag">Capability Analysis</span></div>
          <div id="capability"></div>
        </div>
        <div class="card">
          <div class="tag">üß≠ <span id="beh-tag">Behavioral Analysis</span></div>
          <div id="behavioral"></div>
        </div>
      </div>
    </section>

    <!-- Quick links row -->
    <section class="section">
      <div class="grid">
        <div class="card">
          <strong id="assets-title">Assets you provide</strong>
          <ul id="assets"></ul>
        </div>
        <div class="card">
          <strong id="tips-title">Tips</strong>
          <ul id="tips"></ul>
        </div>
      </div>
    </section>

  </main>

  <footer class="container">
    <div>¬© <span id="year"></span> Model Insight</div>
    <div>
      <a class="button" href="#" id="deploy-how">How to deploy on GitHub Pages</a>
    </div>
  </footer>

  <!-- Markdown Modal -->
  <div id="md-modal" class="modal" aria-hidden="true" aria-labelledby="md-title">
    <div class="modal-card">
      <div class="modal-head">
        <div id="md-title">Document</div>
        <div id="md-status" aria-live="polite"></div>
        <button class="close" id="md-close" aria-label="Close">‚úï</button>
      </div>
      <div class="modal-body">
        <article id="md-content" class="markdown-body"></article>
      </div>
    </div>
  </div>

  <!-- Dependencies -->
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/lib/common.min.js"></script>

  <script>
    // ------- i18n content (EN default) -------
    const i18n = {
      en: {
        kicker: "Automated model analytics",
        headline: "Capability & Behavioral Analysis‚ÄîJust Type a Query",
        subhead: "Get two natural-language reports from a single query: a capability analysis and a behavioral analysis‚Äîplus deep dives beyond raw performance.",
        intro: `
          <ul>
            <li>üåü This project is designed for the automated <strong>capability</strong> and <strong>behavioral</strong> analysis of models.
              <ul>
                <li><strong>Capability Analysis</strong>: Diverging from traditional quantitative evaluations, our project facilitates a <em>multi-dimensional</em> and <em>multi-level</em> comparison of model capabilities. It enables an in-depth exploration of metrics beyond performance, such as <em>token consumption</em> and <em>execution time</em>.</li>
                <li><strong>Behavioral Analysis</strong>: By mining the models' behavior, we identify their <em>reasoning patterns</em>, substantiating their strengths and weaknesses.</li>
              </ul>
            </li>
            <li>‚û°Ô∏è Users can obtain <strong>two natural-language reports</strong>‚Äîa capability analysis report and a behavioral analysis report‚Äîsimply by inputting a single query.</li>
            <li>üìë The detailed paper, benchmarks, and the system will be released soon. We welcome your attention and usage. ‚ù§Ô∏è</li>
          </ul>
        `,
        highlightsTitle: "Highlights",
        highlights: `
          <ul>
            <li><strong>Capability Differentiation and Correlation Analysis</strong>: We assess the discernible differences among models and the correlations between capabilities (e.g., simultaneous improvement or decline).<br>
              <a href="#" class="example-link" data-file="examples/capability-correlation.md">[Example doc]</a>
            </li>
            <li><strong>Comparative Analysis of Non-Performance Metrics</strong>: Compare metrics such as consumed tokens, inference tokens, and latency/time.<br>
              <a href="#" class="example-link" data-file="examples/non-performance-metrics.md">[Example doc: o3-high, o3-mini-high & GPT-4.1 Token Analysis]</a>
            </li>
            <li><strong>In-depth Analysis of Scalability</strong>: Fix a specific exercise and scale from 100 to 1000 cases, producing a comprehensive report.<br>
              <a href="#" class="example-link" data-file="examples/scaling-analysis.md">[Example doc]</a>
            </li>
            <li><strong>Cross-Exercise Horizontal Comparison</strong>: Compare across 10‚Äì20 exercises for robust horizontal insights.<br>
              <a href="#" class="example-link" data-file="examples/cross-exercise.md">[Example doc]</a>
            </li>
          </ul>
        `,
        methodTitle: "Methodology",
        capTag: "Capability Analysis",
        behTag: "Behavioral Analysis",
        capability: `
          <p>The process begins with a <strong>Coordinator</strong> agent that parses parameters from the user's query and invokes a <strong>Data Explorer</strong>. The Data Explorer retrieves data relevant to the query via tools.</p>
          <p>Next, a <strong>Planner</strong>, guided by the data and the initial query, instructs an <strong>Analyzer</strong> to study the data from multiple perspectives. Findings are aggregated by a <strong>Reporter</strong> to produce a preliminary capability analysis report.</p>
          <p>After a <strong>Checker</strong> verifies the report, a <strong>Summary</strong> module distills the core conclusions of the capability analysis.</p>
        `,
        behavioral: `
          <p>Using the preliminary capability report and the user's initial query, a <strong>Case Strategy</strong> node generates multiple analysis tasks (per-model or multi-model).</p>
          <p>Tasks are executed by a <strong>Case Analyzer</strong>, which flexibly selects relevant cases (including large batches &gt; 100) and produces detailed analyses. Once complete, a <strong>Case Reporter</strong> consolidates all results into a comprehensive case analysis report.</p>
        `,
        assetsTitle: "Assets you provide",
        assets: [
          "PNG image at <code>assets/overview.png</code> (shown above)",
          "Markdown files in <code>examples/</code> (opened in a modal when you click the links)",
          "Optional: a <code>CNAME</code> file if you use a custom domain"
        ],
        tipsTitle: "Tips",
        tips: [
          "Edit text or add more example links by modifying <code>index.html</code> only‚Äîno build step needed.",
          "Default language is English. Your selection is saved to <code>localStorage</code>.",
          "All links fetch Markdown from relative paths, which works on GitHub Pages."
        ]
      },
      zh: {
        kicker: "Ëá™Âä®ÂåñÊ®°ÂûãÂàÜÊûê",
        headline: "ËÉΩÂäõÂàÜÊûê‰∏éË°å‰∏∫ÂàÜÊûê‚Äî‚ÄîÂè™ÈúÄËæìÂÖ•‰∏Ä‰∏™Êü•ËØ¢",
        subhead: "Âè™ÈúÄ‰∏ÄÊ¨°ËæìÂÖ•Âç≥ÂèØËé∑Âæó‰∏§‰ªΩËá™ÁÑ∂ËØ≠Ë®ÄÊä•ÂëäÔºöËÉΩÂäõÂàÜÊûêÊä•Âëä‰∏éË°å‰∏∫ÂàÜÊûêÊä•ÂëäÔºõÂπ∂ÂØπÊÄßËÉΩ‰πãÂ§ñÁöÑÊåáÊ†áËøõË°åÊ∑±Â∫¶Êé¢Á¥¢„ÄÇ",
        intro: `
          <ul>
            <li>üåü Êú¨È°πÁõÆÁî®‰∫éÂØπÊ®°ÂûãËøõË°åËá™Âä®ÂåñÁöÑ<strong>ËÉΩÂäõÂàÜÊûê</strong>Âíå<strong>Ë°å‰∏∫ÂàÜÊûê</strong>„ÄÇ
              <ul>
                <li><strong>ËÉΩÂäõÂàÜÊûê</strong>Ôºö‰∏çÂêå‰∫é‰º†ÁªüÁöÑÂÆöÈáèËØÑ‰ª∑ÔºåÊàë‰ª¨ÁöÑÈ°πÁõÆÂèØ‰ª•ÂØπÊ®°ÂûãÁöÑËÉΩÂäõËøõË°åÂ§öÁª¥Â§öÂ±ÇÁ∫ßÁöÑÊØîËæÉÔºå‰ª•ÂèäÂØπÈô§‰∫ÜÊÄßËÉΩ‰πãÂ§ñÁöÑÊåáÊ†áÔºàÂ¶Ç<em>Ê∂àËÄóÁöÑ token Êï∞Èáè</em>„ÄÅ<em>ËøêË°åÊó∂Èó¥</em>ÔºâËøõË°åÊ∑±Â∫¶Êé¢Á¥¢„ÄÇ</li>
                <li><strong>Ë°å‰∏∫ÂàÜÊûê</strong>ÔºöÈÄöËøáÂØπÊ®°ÂûãË°å‰∏∫ÁöÑÊåñÊéòÔºåÂèëÁé∞ÂÖ∂<em>Êé®ÁêÜÊ®°Âºè</em>ÔºåÂπ∂ÂÖ∑Ë±°ÂåñÊ®°ÂûãÁöÑ‰ºòÂäø‰∏éÂä£Âäø„ÄÇ</li>
              </ul>
            </li>
            <li>‚û°Ô∏è ‰Ω†Âè™ÈúÄË¶ÅËæìÂÖ•‰∏Ä‰∏™ queryÔºåÂ∞±ÂèØ‰ª•ÂæóÂà∞‰∏§‰ªΩ<strong>Ëá™ÁÑ∂ËØ≠Ë®ÄÊä•Âëä</strong>ÔºöËÉΩÂäõÂàÜÊûêÊä•Âëä‰ª•ÂèäË°å‰∏∫ÂàÜÊûêÊä•Âëä„ÄÇ</li>
            <li>üìë ÂÖ∑‰ΩìËÆ∫Êñá„ÄÅbenchmarkÔºå‰ª•ÂèäÁ≥ªÁªüÂç≥Â∞ÜÊîæÂá∫ÔºåÊ¨¢ËøéÂ§ßÂÆ∂Â§öÂ§öÂÖ≥Ê≥®‰∏é‰ΩøÁî® ‚ù§Ô∏è</li>
          </ul>
        `,
        highlightsTitle: "‰∫ÆÁÇπ case",
        highlights: `
          <ul>
            <li>Ê®°ÂûãÈó¥ÁöÑËÉΩÂäõÊúâÊ≤°ÊúâÂå∫ÂàÜÂ∫¶‰ª•ÂèäÊ®°ÂûãÁöÑËÉΩÂäõ‰πãÈó¥ÊúâÊ≤°ÊúâÁõ∏ÂÖ≥ÊÄßÔºàÊØîÂ¶ÇÂêåÊ∂®„ÄÅÂêåË∑åÔºâ<br>
              <a href="#" class="example-link" data-file="examples/capability-correlation.md">[Á§∫‰æãÊñáÊ°£]</a>
            </li>
            <li>ÂØπÈô§ÊÄßËÉΩ‰πãÂ§ñÁöÑÊåáÊ†áÊØîËæÉÔºàÊØîÂ¶ÇÊ∂àËÄóÁöÑ token Êï∞„ÄÅÊé®ÁêÜÁöÑ token Êï∞„ÄÅËä±Ë¥πÊó∂Èó¥Ôºâ<br>
              <a href="#" class="example-link" data-file="examples/non-performance-metrics.md">[Á§∫‰æãÊñáÊ°£]</a>
            </li>
            <li>Âõ∫ÂÆöÊüê‰∏™ exerciseÔºåÂàÜÊûê 100 ‚Üí 1000 ‰∏™ caseÔºåËæìÂá∫‰∏Ä‰ªΩÊä•Âëä<br>
              <a href="#" class="example-link" data-file="examples/scaling-analysis.md">[Á§∫‰æãÊñáÊ°£]</a>
            </li>
            <li>Ê®™ÂêëÂØπÊØî 10ÔΩû20 ‰∏™ exercise<br>
              <a href="#" class="example-link" data-file="examples/cross-exercise.md">[Á§∫‰æãÊñáÊ°£]</a>
            </li>
          </ul>
        `,
        methodTitle: "ÊñπÊ≥ï",
        capTag: "ËÉΩÂäõÂàÜÊûê",
        behTag: "Ë°å‰∏∫ÂàÜÊûê",
        capability: `
          <p>Áî± <strong>coordinator</strong> Ëß£Êûê query ‰∏≠ÁöÑÂèÇÊï∞ÔºåÂπ∂Ë∞ÉÁî® <strong>data_explorer</strong>„ÄÇdata_explorer Ë∞ÉÁî®Â∑•ÂÖ∑Ëé∑Âèñ query Áõ∏ÂÖ≥Êï∞ÊçÆ„ÄÇ</p>
          <p><strong>planner</strong> Ê†πÊçÆÊï∞ÊçÆÂíå query ÊåáÂØº <strong>analyzer</strong> ‰ªé‰∏çÂêåËßíÂ∫¶ÂàÜÊûêÊï∞ÊçÆÔºå<strong>reporter</strong> Ê±áÊÄªÁîüÊàêËÉΩÂäõÂàÜÊûêÊä•Âëä„ÄÇ</p>
          <p>Áªè <strong>checker</strong> Ê£ÄÈ™åÂêàÊ†ºÂêéËæìÂÖ• <strong>summary</strong>ÔºåËé∑ÂæóËÉΩÂäõÂàÜÊûêÊä•ÂëäÁöÑÊ†∏ÂøÉÁªìËÆ∫„ÄÇ</p>
        `,
        behavioral: `
          <p>Âà©Áî®ËÉΩÂäõÂàÜÊûêÁîüÊàêÁöÑÂàùÊ≠•Êä•ÂëäÂíåÁî®Êà∑ÂÖ≥Ê≥®ÁöÑÈóÆÈ¢òÔºàÂç≥ÊúÄÂàùÁöÑÊü•ËØ¢ÔºâÔºåÁî± <strong>case_Strategy</strong> ËäÇÁÇπÁîüÊàêÂ§ö‰∏™ÂàÜÊûê‰ªªÂä°ÔºàÂçïÊ®°Âûã/Â§öÊ®°ÂûãÔºâ„ÄÇ</p>
          <p>Â∞Ü‰ªªÂä°‰∫§Áªô <strong>case_analyzer</strong> ËäÇÁÇπÔºåÁÅµÊ¥ªÁ≠õÈÄâÁõ∏ÂÖ≥Ê°à‰æãÔºàÂåÖÂê´ &gt;100 ÁöÑÂ§ßÊâπÈáèÊ°à‰æãÔºâÔºåÁîüÊàêÊØè‰∏™‰ªªÂä°ÁöÑËØ¶ÁªÜÂàÜÊûêÊä•Âëä„ÄÇÊúÄÁªàÁî± <strong>case reporter</strong> ËäÇÁÇπÊ±áÊÄªÔºåÁîüÊàêÁªºÂêàÊ°à‰æãÂàÜÊûêÊä•Âëä„ÄÇ</p>
        `,
        assetsTitle: "ÈúÄË¶Å‰Ω†Êèê‰æõÁöÑÁ¥†Êùê",
        assets: [
          "ÊîæÁΩÆ‰∏ÄÂº† PNG ÂõæÁâáÂà∞ <code>assets/overview.png</code>Ôºà‰∏äÊñπÂ±ïÁ§∫Ôºâ",
          "ÊääÁ§∫‰æã Markdown ÊñáÊ°£ÊîæÂà∞ <code>examples/</code> ÁõÆÂΩïÔºàÁÇπÂáªÈìæÊé•Âêé‰ºöÂú®ÂºπÁ™ó‰∏≠Ëá™Âä®Ê∏≤ÊüìÔºâ",
          "Â¶ÇÈúÄËá™ÂÆö‰πâÂüüÂêçÔºåÂèØÊ∑ªÂä† <code>CNAME</code> Êñá‰ª∂"
        ],
        tipsTitle: "Â∞èË¥¥Â£´",
        tips: [
          "Âè™ÈúÄ‰øÆÊîπ <code>index.html</code> Âç≥ÂèØÂÆåÊàêÂ§ßÂ§öÊï∞ÊñáÊ°àË∞ÉÊï¥ÔºåÊó†ÈúÄÊûÑÂª∫ÊµÅÁ®ã„ÄÇ",
          "ÈªòËÆ§ËØ≠Ë®Ä‰∏∫Ëã±ÊñáÔºõËØ≠Ë®ÄÈÄâÊã©‰ºö‰øùÂ≠òÂà∞ <code>localStorage</code>„ÄÇ",
          "Á§∫‰æãÈìæÊé•ÈÄöËøáÁõ∏ÂØπË∑ØÂæÑËé∑Âèñ MarkdownÔºåÂÖºÂÆπ GitHub Pages„ÄÇ"
        ]
      }
    };

    // ------- populate content -------
    const $ = sel => document.querySelector(sel);
    const els = {
      kicker: $('#kicker'), headline: $('#headline'), subhead: $('#subhead'), intro: $('#intro'),
      highlightsTitle: $('#highlights-title'), highlights: $('#highlights'),
      methodTitle: $('#method-title'), capability: $('#capability'), behavioral: $('#behavioral'),
      capTag: $('#cap-tag'), behTag: $('#beh-tag'),
      assetsTitle: $('#assets-title'), assets: $('#assets'),
      tipsTitle: $('#tips-title'), tips: $('#tips'),
      year: $('#year')
    };

    function renderLang(lang){
      const t = i18n[lang];
      els.kicker.textContent = t.kicker;
      els.headline.textContent = t.headline;
      els.subhead.textContent = t.subhead;
      els.intro.innerHTML = t.intro;
      els.highlightsTitle.textContent = t.highlightsTitle;
      els.highlights.innerHTML = t.highlights;
      els.methodTitle.textContent = t.methodTitle;
      els.capTag.textContent = t.capTag;
      els.behTag.textContent = t.behTag;
      els.capability.innerHTML = t.capability;
      els.behavioral.innerHTML = t.behavioral;
      els.assetsTitle.textContent = t.assetsTitle;
      els.assets.innerHTML = t.assets.map(x=>`<li>${x}</li>`).join('');
      els.tipsTitle.textContent = t.tipsTitle;
      els.tips.innerHTML = t.tips.map(x=>`<li>${x}</li>`).join('');

      // Rebind example links after content swap
      bindExampleLinks();
    }

    // ------- language toggle -------
    const btnEn = document.getElementById('btn-en');
    const btnZh = document.getElementById('btn-zh');
    function setActive(btn){
      [btnEn, btnZh].forEach(b=>b.classList.remove('active'));
      btn.classList.add('active');
      btnEn.setAttribute('aria-pressed', btn===btnEn ? 'true':'false');
      btnZh.setAttribute('aria-pressed', btn===btnZh ? 'true':'false');
    }

    btnEn.addEventListener('click',()=>{localStorage.setItem('lang','en'); setActive(btnEn); renderLang('en')});
    btnZh.addEventListener('click',()=>{localStorage.setItem('lang','zh'); setActive(btnZh); renderLang('zh')});

    // ------- Markdown modal -------
    const modal = document.getElementById('md-modal');
    const mdTitle = document.getElementById('md-title');
    const mdStatus = document.getElementById('md-status');
    const mdClose = document.getElementById('md-close');
    const mdContent = document.getElementById('md-content');

    function openMarkdown(path){
      modal.classList.add('open');
      modal.setAttribute('aria-hidden','false');
      mdTitle.textContent = path.split('/').pop();
      mdContent.innerHTML = '';
      mdStatus.innerHTML = '<span class="spinner" aria-hidden="true"></span>';
      fetch(path, {cache:'no-store'})
        .then(r=>{ if(!r.ok) throw new Error('HTTP '+r.status); return r.text(); })
        .then(md=>{
          mdStatus.textContent='';
          const html = marked.parse(md, { gfm:true, breaks:true });
          mdContent.innerHTML = html;
          // syntax highlight
          document.querySelectorAll('#md-content pre code').forEach(block=>{
            try{ hljs.highlightElement(block); }catch(e){}
          });
        })
        .catch(err=>{
          mdStatus.textContent = 'Failed to load document (' + err.message + '). Make sure the file exists in your repo.';
        });
    }

    function closeModal(){ modal.classList.remove('open'); modal.setAttribute('aria-hidden','true'); }
    mdClose.addEventListener('click', closeModal);
    modal.addEventListener('click', (e)=>{ if(e.target===modal) closeModal(); });
    window.addEventListener('keydown', (e)=>{ if(e.key==='Escape' && modal.classList.contains('open')) closeModal(); });

    function bindExampleLinks(){
      document.querySelectorAll('.example-link').forEach(a=>{
        a.addEventListener('click', (e)=>{ e.preventDefault(); openMarkdown(a.getAttribute('data-file')); });
      });
    }

    // Footer year
    els.year.textContent = new Date().getFullYear();

    // Deploy how-to (opens a small markdown help from an inline blob)
    document.getElementById('deploy-how').addEventListener('click', (e)=>{
      e.preventDefault();
      const md = `# Deploy to GitHub Pages\n\n1. **Create a repo** on GitHub (e.g., \n   \`model-insight-site\`).\n2. Add these paths and files:\n\n   \n   - \`index.html\` (this file)\n   - \`assets/overview.png\` (your PNG)\n   - \`examples/capability-correlation.md\`\n   - \`examples/non-performance-metrics.md\`\n   - \`examples/scaling-analysis.md\`\n   - \`examples/cross-exercise.md\`\n\n3. **Commit & push** to the \`main\` branch.\n4. Go to **Settings ‚Üí Pages**.\n   - Source: **Deploy from a branch**\n   - Branch: **main** / **root**\n   - Save.\n5. Wait 1‚Äì2 minutes, then open: \`https://<your-username>.github.io/<repo-name>/\`\n6. (Optional) For a custom domain, add a **CNAME** file and configure DNS.\n`;
      modal.classList.add('open');
      modal.setAttribute('aria-hidden','false');
      mdTitle.textContent = 'GitHub Pages ‚Äì Deployment Guide';
      mdStatus.textContent = '';
      mdContent.innerHTML = marked.parse(md);
    });

    // Initial render
    const initial = localStorage.getItem('lang') || 'en';
    if(initial==='zh'){ setActive(btnZh); renderLang('zh'); }
    else { setActive(btnEn); renderLang('en'); }
  </script>
</body>
</html>
